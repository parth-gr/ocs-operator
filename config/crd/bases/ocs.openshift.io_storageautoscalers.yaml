---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.1
  name: storageautoscalers.ocs.openshift.io
spec:
  group: ocs.openshift.io
  names:
    kind: StorageAutoScaler
    listKind: StorageAutoScalerList
    plural: storageautoscalers
    singular: storageautoscaler
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Age
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    - description: Current Phase
      jsonPath: .status.phase
      name: Phase
      type: string
    - description: Last Run Time Stamp
      jsonPath: .status.lastRunTimeStamp
      name: LastRunTimeStamp
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        description: StorageAutoScaler represents the automatic storage scaling for
          storage cluster.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: StorageAutoScalerSpec defines the desired state of StorageAutoScaler
            properties:
              capacityLimit:
                anyOf:
                - type: integer
                - type: string
                description: CapacityLimit is the capacity limit for the storage scaling
                  for the specific deviceClass and storagecluster.
                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                x-kubernetes-int-or-string: true
              deviceClassName:
                description: DeviceClassName is the name of the device class for which
                  the storage scaling is to be done.
                type: string
              storageClusterName:
                description: StorageClusterName is the name of the storage cluster
                  for which the storage scaling is to be done.
                type: string
            required:
            - capacityLimit
            - deviceClassName
            - storageClusterName
            type: object
          status:
            description: StorageAutoScalerStatus defines the observed state of StorageAutoScaler
            properties:
              currentOsdCount:
                description: |-
                  The current OSD count is the original count of the OSDs before the expansion in progress is completed.
                  After the expansion is completed, this would be updated to the expected OSD count.
                  Used for horizontal scaling of OSDs.
                type: integer
              currentOsdSize:
                anyOf:
                - type: integer
                - type: string
                description: |-
                  The current size is the original size of the OSDs before the expansion in progress is completed.
                  After the expansion is completed, this would be updated to the expected OSD size.
                  Used for vertical scaling of OSDs.
                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                x-kubernetes-int-or-string: true
              expectedOsdCount:
                description: |-
                  The Expected OSD count is the count that the auto-expansion has decided to set.
                  This will be set on the storageCluster CR as the desired count of the OSDs.
                  Used for horizontal scaling of OSDs.
                type: integer
              expectedOsdSize:
                anyOf:
                - type: integer
                - type: string
                description: |-
                  The ExpectedOsdSize is the size that the auto-expansion has decided to set.
                  This will be set on the storageCLuster CR as the desired size of the OSDs.
                  Used for vertical scaling of OSDs.
                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                x-kubernetes-int-or-string: true
              lastRunTimeStamp:
                description: LastRunTimeStamp is the time stamp of the last run of
                  the storage scaling
                format: date-time
                type: string
              phase:
                description: Phase describes the Phase of StorageAutoScaler
                enum:
                - Waiting
                - InProgress
                - Failed
                - Completed
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
